# noteapp MVP 设计文档

## 1. 执行摘要

**noteapp** 是一款移动端语音笔记应用，让用户通过语音快速记录并自动转换为文本。采用本地优先架构，保护用户隐私。

- **核心价值**：语音记录 + 本地存储 + 隐私保护
- **目标平台**：iOS / Android
- **开发周期**：4 周

## 2. 核心问题

- 传统笔记需要手动输入，移动场景效率低
- 纯音频文件难以管理和搜索
- 云端语音笔记存在隐私顾虑

**目标用户**：需要在移动中快速记录想法、重视隐私的用户

## 3. MVP 功能范围

### 3.1 核心功能（仅 3 个）

| 功能 | 描述 | 验收标准 |
|------|------|----------|
| **语音录制与转文字** | 点击录音，实时转文字，自动保存 | 语音能转为文字并保存 |
| **笔记管理** | 查看列表、查看详情、删除（不含编辑） | 列表显示、详情查看、删除确认 |
| **本地存储** | SQLite 本地存储，无云端上传 | 关闭应用后数据保留 |

### 3.2 不在 MVP 范围

- 标签系统
- 搜索功能
- 笔记编辑
- 云同步 / 用户账号
- 音频文件保存
- 深色模式

## 4. 技术栈

| 类别 | 选择 |
|------|------|
| 框架 | React Native + Expo |
| 语言 | TypeScript |
| 状态管理 | Zustand |
| 本地存储 | expo-sqlite |
| 语音识别 | @react-native-voice/voice |
| UI 组件 | React Native Paper |
| 导航 | Expo Router |

## 5. 数据模型

```typescript
interface Note {
  id: string;          // UUID
  content: string;     // 笔记内容
  createdAt: number;   // 创建时间戳
  updatedAt: number;   // 更新时间戳
  wordCount: number;   // 字数
}
```

## 6. 页面结构

- **首页**：笔记列表（按时间倒序）
- **录音页**：麦克风按钮 + 实时转写显示
- **详情页**：笔记内容 + 删除按钮

底部 Tab 导航：首页 | 录音 | 设置（预留）

## 7. 开发计划（4 周）

| 周次 | 目标 | 交付物 |
|------|------|--------|
| 第 1 周 | 项目搭建 | Expo 项目初始化、导航配置、UI 组件库、数据库配置 |
| 第 2 周 | 笔记管理 | 笔记列表、详情页、删除功能、数据持久化 |
| 第 3 周 | 语音功能 | 语音识别集成、录音界面、实时转写、自动保存 |
| 第 4 周 | 测试发布 | 双平台测试、Bug 修复、提交应用商店 |

### 里程碑

| 里程碑 | 时间 | 验收标准 |
|--------|------|----------|
| M1 | 第 1 周 | 应用骨架运行，导航正常 |
| M2 | 第 2 周 | 笔记 CRUD 功能可用 |
| M3 | 第 3 周 | 语音转文字并保存成功 |
| M4 | 第 4 周 | 提交至应用商店 |

## 8. 关键风险

| 风险 | 缓解措施 |
|------|----------|
| 语音识别准确率不可控 | 显示实时转写，Post-MVP 支持编辑 |
| App Store 审核 | 确保功能完整稳定，遵守指南 |
| 跨平台兼容性 | 使用 Expo 封装 API，双平台测试 |

## 9. 发布

- **构建**：Expo EAS Build
- **iOS**：Apple Developer ($99/年) → App Store Connect
- **Android**：Google Play Developer ($25) → Play Console

## 10. 隐私说明

- 笔记数据仅存储在设备本地
- 语音识别使用系统 API（iOS: Apple Speech, Android: Google Speech）
- 首次使用需告知用户语音数据会发送至系统服务器

---

**版本**: 2.0 | **日期**: 2026-02-12 | **状态**: React Native 版本，3 个核心功能
